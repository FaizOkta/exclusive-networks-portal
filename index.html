<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Central Identity Portal - Exclusive Networks</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Okta Auth JS (SPA / PKCE) -->
  <script src="https://global.oktacdn.com/okta-auth-js/7.7.0/okta-auth-js.min.js"></script>

  <style>
    :root { --navy-deep: #0A1628; --navy-medium: #1B2D45; --blue-bright: #0066FF; --accent-cyan: #00D4FF; }
    body { font-family: 'DM Sans', sans-serif; background: var(--navy-deep); color: white; overflow-x: hidden; }
    .clash-display { font-family: 'Clash Display', sans-serif; }
    .hero-bg { position: absolute; inset: 0; background: linear-gradient(135deg, #0A1628 0%, #1B2D45 50%, #0A1628 100%); z-index: 0; }
    .hero-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 20% 30%, rgba(0, 102, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(0, 212, 255, 0.10) 0%, transparent 50%);
      animation: pulse 8s infinite;
    }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

    .btn-primary { position: relative; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 4px 20px rgba(0, 102, 255, 0.3); }
    .btn-primary:hover { transform: translateY(-2px); }
    .fade-in-up { animation: fadeInUp 1s ease-out forwards; opacity: 0; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .tiny-note { color: rgba(191, 219, 254, 0.9); font-size: 12px; }
    .linkish { color: rgba(191, 219, 254, 0.9); text-decoration: underline; text-underline-offset: 3px; }
    .linkish:hover { color: #fff; }
  </style>

  <script>
    /**
     * ===========================
     * OKTA SPA CONFIG
     * ===========================
     */
    const OKTA_DOMAIN = "https://demo-ocimaster.okta.com";
    const CLIENT_ID   = "0oazpnnecis3YdhQM697";

    // Your Vercel URLs
    const BASE_URL     = "https://exclusive-networks-portal.vercel.app";
    const REDIRECT_URI = `${BASE_URL}/dashboard.html`;

    // If you use a custom auth server, change this.
    const ISSUER = `${OKTA_DOMAIN}/oauth2/default`;

    const authClient = new OktaAuth({
      issuer: ISSUER,
      clientId: CLIENT_ID,
      redirectUri: REDIRECT_URI,
      scopes: ["openid", "profile", "email"],
      // Store PKCE transaction in sessionStorage to avoid concurrency/stale verifier issues
      transactionManager: {
        storage: "sessionStorage"
      },
      tokenManager: {
        storage: "localStorage"
      }
    });

    async function signIn() {
      // Force Okta login UI for demos (even if SSO session exists)
      await authClient.signInWithRedirect({
        extraParams: { prompt: "login" }
      });
    }
  </script>
</head>

<body>
  <div class="hero-bg"></div>

  <div class="relative z-10 min-h-screen flex flex-col">
    <header class="pt-8 px-6 md:px-12 max-w-7xl mx-auto w-full flex justify-between items-center">
      <h1 class="clash-display text-2xl font-bold tracking-tight">EXCLUSIVE NETWORKS</h1>

      <!-- Optional: keep your partner registration link -->
      <a href="https://demo-ocimaster.okta.com/signin/register"
         class="hidden md:block text-sm text-blue-200 hover:text-white transition-colors">
        Partner Registration
      </a>
    </header>

    <main class="flex-1 flex items-center justify-center text-center px-6">
      <div class="max-w-4xl">
        <h2 class="clash-display text-6xl md:text-8xl font-bold mb-6 fade-in-up">
          Central Identity <span class="text-blue-400 block mt-2">Portal</span>
        </h2>

        <p class="text-xl text-blue-100 mb-10 fade-in-up" style="animation-delay: 0.2s">
          Secure access for partners and customers
        </p>

        <div class="fade-in-up" style="animation-delay: 0.4s">
          <button
            onclick="signIn()"
            class="btn-primary bg-blue-600 hover:bg-blue-700 text-white font-semibold text-lg px-16 py-5 rounded-full"
            type="button">
            Sign In
          </button>

          <div class="mt-6 tiny-note">
            After sign-in, you’ll be redirected to the dashboard.
            <span class="mx-2">•</span>
            <a class="linkish" href="/dashboard.html">Open dashboard</a>
          </div>
        </div>
      </div>
    </main>

    <footer class="pb-10 text-center text-xs text-blue-200/70">
      Central IDP demo environment (CIAM)
    </footer>
  </div>
</body>
</html>
